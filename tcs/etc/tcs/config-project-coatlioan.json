////////////////////////////////////////////////////////////////////////

// This file is part of the UNAM telescope control system.

// $Id: config-project-coatlioan.json 3613 2020-06-20 20:21:43Z Alan $

////////////////////////////////////////////////////////////////////////

// Copyright Â© 2018, 2019 Alan M. Watson <alan@astro.unam.mx>
//
// Permission to use, copy, modify, and distribute this software for any
// purpose with or without fee is hereby granted, provided that the above
// copyright notice and this permission notice appear in all copies.
//
// THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL
// WARRANTIES WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED
// WARRANTIES OF MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE
// AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL
// DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR
// PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER
// TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
// PERFORMANCE OF THIS SOFTWARE.

////////////////////////////////////////////////////////////////////////

{
  "site": {
    "latitude": "+31:02:43.0",
    "longitude": "-115:28:00",
    "altitude": "2790.0",
    "civiltimezone": "America/Tijuana"
  },
  "html": {
    "servers": [
      "enclosure",
      "executor",
      "gcntan",
      "heater",
      "instrument",
      "lights",
      "moon",
      "mount",
      "power",
      "selector",
      "secondary",
      "sensors",
      "sun",
      "supervisor",
      "target",
      "telescope",
      "weather"
    ]
  },
  "target": {
    "maxzenithdistancelimit": "72d",
    "idleha": "0h",
    "idledelta": "30d",
    "pointingapertures": {
      "default": [
        "+0.0am",
        "+0.0am"
      ],
      "C0center": [
        "+0.0am",
        "+0.0am"
      ]
    }
  },
  "gcntan": {
    "serverpacketport": "5349",
    "swiftalertprojectidentifier"  : "1001",
    "fermialertprojectidentifier"  : "1002",
    "lvcalertprojectidentifier"    : "1003",
    "hawcalertprojectidentifier"   : "1004",
    "icecubealertprojectidentifier": "1005"
  },
  "supervisor": {
    "withplc": "false",
    "internalhumiditysensor": "enclosure-humidity",
    "openoffsetseconds": "0",
    "opentocooloffsetseconds": "1800"
  },
  "selector": {},
  "executor": {
    "type": "coatlioan"
  },
  "safetyswitch": {
    "type": "arts"
  },
  "telescope": {
    "type": "coatlioan",
    "idleha": "0h",
    "idledelta": "75d",
    "closeexplicitly": "true",
    "finders": []
  },
  "enclosure": {
    "type": "arts",
    "controllerhost": "serial",
    "controllerport": "10003",
    "closeexplicitly": "true",
    "openposition": "180",
    "opentocoolposition": "60"
  },
  "mount": {
    "type": "ntm",
    "hapark": "6h",
    "deltapark": "85d",
    "haunpark": "12h",
    "deltaunpark": "150d",
    "axisdhacorrection": "1.16as",
    "axisddeltacorrection": "0as",
    "southdeltalimit": "-90:00:00",
    "northdeltalimit": "+90:00:00",
    "easthalimit": "-12:00:00",
    "westhalimit": "+12:00:00",
    "zenithdistancelimit": "75d",
    "meridianhalimit": "+00:30:00",
    "polardeltalimit": "+65d",
    "pointingmodelpolarhole": "1d",
   // Pointing model 20211103b.
   "pointingmodelparameters0": {
      "IH": "-0.005214",
      "ID": "-0.000634",
      "CH": "-0.000137",
      "NP": "+0.002492",
      "MA": "+0.000094",
      "ME": "-0.001217",
      "TF": "-0.000388",
      "FO": "+0.000193",
      "DAF": "+0.005512",
      "HHSH": "+0.000084",
      "HHCH": "+0.005208",
      "HHSH2": "-0.000089",
      "HHCH2": "-0.000056",
      "HDSD": "-0.000124",
      "HDCD": "-0.000990",
      "HDSD2": "+0.000154",
      "HDCD2": "+0.000307"
    },
    "pointingmodelparameters180": {
      "IH": "-0.004540",
      "ID": "+0.001463",
      "CH": "+0.000228",
      "NP": "+0.001727",
      "MA": "-0.000013",
      "ME": "-0.001426",
      "TF": "-0.000215",
      "FO": "+0.000203",
      "DAF": "+0.003018",
      "HHSH": "+0.000530",
      "HHCH": "+0.001508",
      "HHSH2": "-0.000304",
      "HHCH2": "+0.000038",
      "HDSD": "-0.000209",
      "HDCD": "-0.000491",
      "HDSD2": "+0.000023",
      "HDCD2": "+0.000129"
    }
  },
  "power": {
    "hosts": {
      "ibb-127": {
        "type": "ibootbar",
        "outlets": "8",
        "inlets": "2"
      },
      "ibb-220": {
        "type": "ibootbar",
        "outlets": "8",
        "inlets": "1"
      }
    },
    "outletgroupaddresses": {
      "firewall":   [["ibb-127", "a", "5"]],
      "access":     [["ibb-127", "a", "2"]],
      "services":   [["ibb-127", "a", "6"]],
      "control":    [["ibb-127", "a", "7"]],
      "mount":      [["ibb-127", "a", "4"]],
      "serial":     [["ibb-127", "a", "8"]],
      "enclosure":  [["ibb-220", "a", "1"]],
      "secondary":  [["ibb-220", "a", "2"]],
      "platform":   [["ibb-127", "a", "1"]],
      "instrument": [["ibb-127", "a", "3"]]
    }
  },
  "lights": {
    "type": "gpio",
    "gpiopath": "/sys/class/gpio/gpio19/value"
  },
  "heater": {
    "type": "gpio",
    "gpiopath": "/sys/class/gpio/gpio26/value"
  },
  "instrument": {
    "detectors": [
      "C0"
    ],
    "activedetectors": [
      "C0"
    ],
    "pointingdetectors": [
      "C0"
    ],
    "outletgroups": []
  },
  "fitsheader": {
    "servers": [
      "target",
      "moon",
      "sun",
      "secondary",
      "mount",
      "sensors",
      "weather"
    ]
  },
  "C0": {
    "telescopedescription": "OAN/SPM COATLI 50-cm f/8",
    "detectortype": "andor",
    "detectoridentifier": "",
    "detectorpixelscale": "0.678as",
    "detectorinitialsoftwaregain": 1,
    "detectorinitialbinning": 1,
    "detectorwindows": {
      "initial": "default",
      "default": "1kx1k",
      "center": "1kx1k",
      "1kx1k": {
        "sx": 0,
        "sy": 0,
        "nx": 1024,
        "ny": 1024
      },
      "1024x1024": "1kx1k",
      "512x512": {
        "sx": 256,
        "sy": 256,
        "nx": 512,
        "ny": 512
      }
    },
    "detectorfullunbinneddatawindow": {
      "sx": 0,
      "sy": 1,
      "nx": 1024,
      "ny": 1023
    },
    "detectorfullunbinnedbiaswindow": {
      "sx": 0,
      "sy": 0,
      "nx": 0,
      "ny": 0
    },
    "detectorreadmodes": {
      "initial"   : "default",
      "default"   : "1MHz-0",
      "em-30MHz-0": "0-0-3-0-0-1000-8",
      "em-30MHz-1": "0-0-3-0-1-640-16",
      "em-20MHz-0": "0-0-3-1-0-500-4",
      "em-20MHz-1": "0-0-3-1-1-320-8",
      "em-10MHz-0": "0-0-3-2-0-250-2",
      "em-10MHz-1": "0-0-3-2-1-160-4",
      "em-1MHz-0" : "0-0-3-3-0-100-1",
      "em-1MHz-1" : "0-0-3-3-1-40-2",
      "1MHz-0"    : "0-1-3-0-0-0-1",
      "1MHz-1"    : "0-1-3-0-1-0-2",
      "100kHz-0"  : "0-1-3-1-0-0-1",
      "100kHz-1"  : "0-1-3-1-1-0-2"
    },
    "cooleropensetting": "-60",
    "coolerclosedsetting": "20",
    "temperaturelimit": 40,
    "temperaturelimitoutletgroup": "",
    "filterwheeltype": "fli",
    "filterwheelidentifier": "CFW-1-8-001",
    "filterwheelinitialposition": 0,
    "filterlist": [
      "g", "r", "i", "z", "470/10", "515/10", "640/10", "656/3"
    ],
    "dzfilterlist": [
      0, 0, 0, 0, -70, -70, -70, -70
    ],
    "focusertype": "null",
    "focuseridentifier": "null",
    "focuserinitialposition": 0,
    "focuserbacklashoffset": 0,
    "focusercorrectionmodel": {},
    "pointingmodelparameters": {},
    "isstandalone": false,
    "fitsfwhmargs": {
      "1": "-m",
      "2": "-A",
      "4": "-A",
      "8": "-A",
      "16": "-A"
    }
  },
  "secondary": {
    "type": "optec",
    "controllerhost": "serial",
    "controllerport": "10002",
    "initialz0": "3500",
    "minz": "0",
    "maxz": "7000",
    "allowedzerror": "1",
    "zdeadzonewidth": "5",
    "dztweak": "-25",
    "dzdT": "-9.26",
    "temperaturesensor": "enclosure-temperature"
  },
  "weather": {
    "windaveragespeedlimit": "20"
  },
  "sensors": {
    "lognames": [
      "shed-temperature",
      "enclosure-temperature",
      "box-c-temperature",
      "box-d-temperature",
      "box-e-temperature",
      "shed-humidity",
      "enclosure-humidity",
      "box-c-humidity",
      "box-d-humidity",
      "box-e-humidity",
      "shed-light-level",
      "enclosure-light-level"
    ],
    "sensors": {
      "shed-temperature": {
        "file": "/usr/local/var/tcs/sensors/control/ow/26.0FC8CF000000/temperature",
        "keyword": "SHTM",
        "prettyname": "shed temperature",
        "group": "environmental-sensors",
        "type": "float",
        "unit": "C",
        "model": "iButtonLink MS-TH",
        "identifier": "26.0FC8CF000000",
        "firmware": ""
      },
      "rack-temperature": {
        "file": "/usr/local/var/tcs/sensors/control/ow/26.4EBD40010000/temperature",
        "keyword": "RCTM",
        "prettyname": "rack emperature",
        "group": "environmental-sensors",
        "type": "float",
        "unit": "C",
        "model": "iButtonLink MS-TH",
        "identifier": "26.4EBD40010000",
        "firmware": ""
      },
      "enclosure-temperature": {
        "file": "/usr/local/var/tcs/sensors/platform/ow/26.F897E1010000/temperature",
        "keyword": "ENTM",
        "prettyname": "enclosure temperature",
        "group": "environmental-sensors",
        "type": "float",
        "unit": "C",
        "model": "iButtonLink MS-TH",
        "identifier": "26.F897E1010000",
        "firmware": ""
      },
      "box-c-temperature": {
        "file": "/usr/local/var/tcs/sensors/platform/ow/26.DFB040010000/temperature",
        "keyword": "BCTM",
        "prettyname": "box C temperature",
        "group": "environmental-sensors",
        "type": "float",
        "unit": "C",
        "model": "iButtonLink MS-TH",
        "identifier": "26.3E9840010000",
        "firmware": ""
      },
      "box-d-temperature": {
        "file": "/usr/local/var/tcs/sensors/d0/ow/26.68A740010000/temperature",
        "keyword": "BDTM",
        "prettyname": "box D temperature",
        "group": "environmental-sensors",
        "type": "float",
        "unit": "C",
        "model": "iButtonLink MS-TH",
        "identifier": "26.68A740010000",
        "firmware": ""
      },
      "box-e-temperature": {
        "file": "/usr/local/var/tcs/sensors/instrument/ow/26.44A040010000/temperature",
        "keyword": "BETM",
        "prettyname": "box E temperature",
        "group": "environmental-sensors",
        "type": "float",
        "unit": "C",
        "model": "iButtonLink MS-TH",
        "identifier": "26.44A040010000",
        "firmware": ""
      },
      "shed-humidity": {
        "file": "/usr/local/var/tcs/sensors/control/ow/26.0FC8CF000000/HIH4000/humidity",
        "keyword": "SHHM",
        "prettyname": "shed relative humidity",
        "group": "environmental-sensors",
        "type": "float",
        "unit": "",
        "model": "iButtonLink MS-TH",
        "identifier": "26.0FC8CF000000",
        "firmware": ""
      },
      "enclosure-humidity": {
        "file": "/usr/local/var/tcs/sensors/platform/ow/26.F897E1010000/HIH4000/humidity",
        "keyword": "ENHM",
        "prettyname": "enclosure",
        "relative": "humidity",
        "group": "environmental-sensors",
        "type": "float",
        "unit": "",
        "model": "iButtonLink MS-TH",
        "identifier": "26.F897E1010000",
        "firmware": ""
      },
      "box-c-humidity": {
        "file": "/usr/local/var/tcs/sensors/platform/ow/26.DFB040010000/HIH4000/humidity",
        "keyword": "BCHM",
        "prettyname": "box C relative humidity",
        "group": "environmental-sensors",
        "type": "float",
        "unit": "",
        "model": "iButtonLink MS-TH",
        "identifier": "26.DFB040010000",
        "firmware": ""
      },
      "box-d-humidity": {
        "file": "/usr/local/var/tcs/sensors/d0/ow/26.68A740010000/HIH4000/humidity",
        "keyword": "BDHM",
        "prettyname": "box D relative humidity",
        "group": "environmental-sensors",
        "type": "float",
        "unit": "",
        "model": "iButtonLink MS-TH",
        "identifier": "26.68A740010000",
        "firmware": ""
      },
      "box-e-humidity": {
        "file": "/usr/local/var/tcs/sensors/instrument/ow/26.44A040010000/HIH4000/humidity",
        "keyword": "BEHM",
        "prettyname": "box E relative humidity",
        "group": "environmental-sensors",
        "type": "float",
        "unit": "",
        "model": "iButtonLink MS-TH",
        "identifier": "26.44A040010000",
        "firmware": ""
      },
      "shed-light-level": {
        "file": "/usr/local/var/tcs/sensors/control/ow/26.389840010000/VAD",
        "keyword": "SHLL",
        "prettyname": "shed light level",
        "group": "environmental-sensors",
        "type": "float",
        "unit": "",
        "model": "iButtonLink MS-TL",
        "identifier": "26.389840010000",
        "firmware": ""
      },
      "enclosure-light-level": {
        "file": "/usr/local/var/tcs/sensors/platform/ow/26.47A740010000/VAD",
        "keyword": "ENLL",
        "prettyname": "enclosure",
        "light": "level",
        "group": "environmental-sensors",
        "type": "float",
        "unit": "",
        "model": "iButtonLink MS-TL",
        "identifier": "26.47A740010000",
        "firmware": ""
      },
      "host-services-load": {
        "file": "/usr/local/var/tcs/sensors/services/load",
        "keyword": "",
        "prettyname": "load on host services",
        "group": "host-services",
        "type": "float",
        "unit": "processes",
        "model": "",
        "identifier": "",
        "firmware": ""
      },
      "host-control-load": {
        "file": "/usr/local/var/tcs/sensors/control/load",
        "keyword": "",
        "prettyname": "load on host control",
        "group": "host-control",
        "type": "float",
        "unit": "processes",
        "model": "",
        "identifier": "",
        "firmware": ""
      },
      "host-instrument-load": {
        "file": "/usr/local/var/tcs/sensors/instrument/load",
        "keyword": "",
        "prettyname": "load on host instrument",
        "group": "host-instrument",
        "type": "float",
        "unit": "processes",
        "model": "",
        "identifier": "",
        "firmware": ""
      },
      "host-platform-load": {
        "file": "/usr/local/var/tcs/sensors/platform/load",
        "keyword": "",
        "prettyname": "load on host platform",
        "group": "host-platform",
        "type": "float",
        "unit": "processes",
        "model": "",
        "identifier": "",
        "firmware": ""
      },
      "host-services-disk-space-used": {
        "file": "/usr/local/var/tcs/sensors/services/disk-space-used",
        "keyword": "",
        "prettyname": "relative disk space used on host services",
        "group": "host-services",
        "type": "float",
        "unit": "",
        "model": "",
        "identifier": "",
        "firmware": ""
      },
      "host-control-disk-space-used": {
        "file": "/usr/local/var/tcs/sensors/control/disk-space-used",
        "keyword": "",
        "prettyname": "relative disk space used on host control",
        "group": "host-control",
        "type": "float",
        "unit": "",
        "model": "",
        "identifier": "",
        "firmware": ""
      },
      "host-instrument-disk-space-used": {
        "file": "/usr/local/var/tcs/sensors/instrument/disk-space-used",
        "keyword": "",
        "prettyname": "relative disk space used on host instrument",
        "group": "host-instrument",
        "type": "float",
        "unit": "",
        "model": "",
        "identifier": "",
        "firmware": ""
      },
      "host-platform-disk-space-used": {
        "file": "/usr/local/var/tcs/sensors/platform/disk-space-used",
        "keyword": "",
        "prettyname": "relative disk space used on host platform",
        "group": "host-platform",
        "type": "float",
        "unit": "",
        "model": "",
        "identifier": "",
        "firmware": ""
      },
      "C0-detector-detector-temperature": {
        "file": "/usr/local/var/tcs/sensors/instrument/C0-detector-detector-temperature",
        "keyword": "",
        "prettyname": "C0 detector temperature",
        "subsystem": "instrument",
        "component": "C0",
        "group": "detector-temperature",
        "type": "float",
        "unit": "C",
        "model": "dummy",
        "identifier": "0",
        "firmware": ""
      },
      "C0-detector-cooler-set-temperature": {
        "file": "/usr/local/var/tcs/sensors/instrument/C0-detector-cooler-set-temperature",
        "keyword": "",
        "prettyname": "C0 cooler set temperature",
        "subsystem": "instrument",
        "component": "C0",
        "group": "detector-cooler-set-temperature",
        "type": "float",
        "unit": "C",
        "model": "dummy",
        "identifier": "0",
        "firmware": ""
      },
      "C0-detector-cooler-state": {
        "file": "/usr/local/var/tcs/sensors/instrument/C0-detector-cooler-state",
        "keyword": "",
        "prettyname": "C0 cooler state",
        "subsystem": "instrument",
        "component": "C0",
        "group": "detector-cooler-state",
        "type": "string",
        "unit": "state",
        "model": "dummy",
        "identifier": "0",
        "firmware": ""
      },
      "C0-filter-wheel-position": {
        "file": "/usr/local/var/tcs/sensors/instrument/C0-filter-wheel-position",
        "keyword": "",
        "prettyname": "C0 filter wheel position",
        "group": "detector-C0",
        "type": "integer",
        "unit": "",
        "model": "FLI CFW-1-8",
        "identifier": "CFW-1-8-001",
        "firmware": ""
      }
    }
  }
}
