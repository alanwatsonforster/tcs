////////////////////////////////////////////////////////////////////////

// This file is part of the UNAM telescope control system.

////////////////////////////////////////////////////////////////////////

// Copyright Â© 2017, 2018, 2019 Alan M. Watson <alan@astro.unam.mx>
//
// Permission to use, copy, modify, and distribute this software for any
// purpose with or without fee is hereby granted, provided that the above
// copyright notice and this permission notice appear in all copies.
//
// THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL
// WARRANTIES WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED
// WARRANTIES OF MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE
// AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL
// DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR
// PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER
// TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
// PERFORMANCE OF THIS SOFTWARE.

////////////////////////////////////////////////////////////////////////

{
  "site": {
    "longitude": "-99:10:40",
    "latitude": "+19:19:33.0",
    "altitude": "2280.0",
    "civiltimezone": "America/Mexico_City"
  },
  "html": {
    "servers": [
      "executor",
      "instrument",
      "moon",
      "selector",
      "sensors",
      "sun",
      "supervisor",
      "target",
      "telescope",
      "weather"
    ]
  },
  "fitsheader": {
    "servers": [
      "target",
      "sun",
      "moon",
      "weather"
    ]
  },
  "power": {
    "hosts": {},
    "outletgroupaddresses": {}
  },
  "supervisor": {
    "internalhumiditysensor": ""
  },
  "selector": {},
  "gcntan": {
    "serverpacketport": "5351",
    "swiftalertprojectidentifier"   : "1001",
    "fermialertprojectidentifier"   : "1002",
    "lvcalertprojectidentifier"     : "1003",
    "hawcalertprojectidentifier"    : "1004",
    "icecubealertprojectidentifier" : "1005"
  },
  "swift": {
    "pointingsource": "none"
  },
  "executor": {},
  "telescope": {
    "type": "dummy",
    "idleha": "0h",
    "idledelta": "0d"
  },
  "safetyswitch": {
    "type": "none"
  },
  "heater": {
    "type": "gpio",
    "gpiopath": "/sys/class/gpio/gpio476/value"
  },
  "lights": {
    "type": "gpio",
    "gpiopath": "/sys/class/gpio/gpio481/value"
  },
  "instrument": {
    "detectors": [
      "C0"
    ],
    "activedetectors": [
      "C0"
    ],
    "idlefilterwheelpositions": [
      "w"
    ],
    "pointingdetectors": [
      "C0"
    ],
    "outletgroups": []
  },
  "C0": {
    "telescopedescription": "TEST",
    "detectortype": "dummy",
    "detectoridentifier": "",
    "detectorpixelscale": "0.381as",
    "detectorinitialsoftwaregain": 1,
    "detectorinitialbinning": 1,
    "detectorreadmodes": {
      "initial": "default",
      "closed" : "default",
      "default": ""
    },
    "detectorwindows": {
      "initial": "default",
      "default": "4kx4k",
      "center": "1kx1k",
      "1kx1k": {
        "sx": 0,
        "sy": 0,
        "nx": 1024,
        "ny": 1024
      },
      "2kx2k": {
        "sx": 1024,
        "sy": 1024,
        "nx": 2048,
        "ny": 2048
      },
      "4kx4k": {
        "sx": 1536,
        "sy": 1536,
        "nx": 4096,
        "ny": 4096
      }
    },
    "detectorfullunbinneddatawindow": {
      "sx": 0,
      "sy": 0,
      "nx": 4096,
      "ny": 4096
    },
    "detectorfullunbinnedbiaswindow": {
      "sx": 0,
      "sy": 0,
      "nx": 0,
      "ny": 0
    },
    "coolerstartsetting": "off",
    "cooleropensetting": "-80",
    "coolerclosedsetting": "following",
    "temperaturelimit": 40,
    "temperaturelimitoutletgroup": "",

//    "filterwheeltype": "null",
//    "filterwheelidentifier": "null",
//    "filters": {
//      "w"      : "0",
//      "initial": "w",
//      "idle"   : "w",
//      "closed" : "w"
//    },

    "filterwheeltype": "dummy",
    "filterwheelidentifier": [
      "5",
      "8",
      "8"
    ],
    "filters": {
      // dark is the combination of B, z, and 656/8.
      "dark"   : "1:3:6",
      "open"   : "0:0:0",
      "g"      : "0:0:1",
      "r"      : "0:0:2",
      "i"      : "0:0:3",
      "z"      : "0:3:0",
      "y"      : "0:5:4",
      "w"      : "4:0:4",
      "B"      : "1:0:0",
      "V"      : "2:0:0",
      "R"      : "3:0:0",
      "I"      : "0:4:0",
      "Is"     : "0:4:6",
      "470/10" : "0:2:0",
      "501/8"  : "0:0:7",
      "515/10" : "0:6:0",
      "640/10" : "0:7:0",
      "656/3"  : "0:1:0",
      "656/8"  : "0:0:6",
      "initial": "dark",
      "idle"   : "dark",
      "closed" : "dark"
    },

    "focusertype": "null",
    "focuseridentifier": "null",
    "focuserinitialposition": 0,
    "focuserbacklashoffset": 0,
    "focusercorrectionmodel": {},

    "pointingmodelparameters": {},
    "isstandalone": false,
    "fitsfwhmargs": {
      "1": "-m",
      "2": "-A",
      "4": "-A",
      "8": "-A",
      "16": "-A"
    }
  },
  "weather": {
    "windaveragespeedlimit": "30"
  },
  "sensors": {
    "lognames": [
      "host-control-load",
      "host-control-disk-space-used",
      "C0-detector-detector-temperature",
      "C0-detector-cooler-set-temperature",
      "C0-detector-cooler-state",
      "C0-detector-cooler-power",
      "C0-filter-wheel-position"
    ],
    "sensors": {
      "host-control-load": {
        "file": "/usr/local/var/tcs/sensors/control/load",
        "keyword": "",
        "prettyname": "load on host control",
        "subsystem": "tcs",
        "component": "control",
        "group": "host-load",
        "type": "float",
        "unit": "processes",
        "model": "",
        "identifier": "",
        "firmware": ""
      },
      "host-control-disk-space-used": {
        "file": "/usr/local/var/tcs/sensors/control/disk-space-used",
        "keyword": "",
        "prettyname": "relative disk space used on host control",
        "subsystem": "tcs",
        "component": "control",
        "group": "host-disk-space-used",
        "type": "float",
        "unit": "",
        "model": "",
        "identifier": "",
        "firmware": ""
      },
      "C0-detector-detector-temperature": {
        "file": "/usr/local/var/tcs/sensors/ubuntu-18/C0-detector-detector-temperature",
        "keyword": "",
        "prettyname": "C0 detector temperature",
        "subsystem": "instrument",
        "component": "C0",
        "group": "detector-temperature",
        "type": "float",
        "unit": "C",
        "model": "dummy",
        "identifier": "0",
        "firmware": ""
      },
      "C0-detector-cooler-set-temperature": {
        "file": "/usr/local/var/tcs/sensors/ubuntu-18/C0-detector-cooler-set-temperature",
        "keyword": "",
        "prettyname": "C0 cooler set temperature",
        "subsystem": "instrument",
        "component": "C0",
        "group": "detector-cooler-set-temperature",
        "type": "float",
        "unit": "C",
        "model": "dummy",
        "identifier": "0",
        "firmware": ""
      },
      "C0-detector-cooler-power": {
        "file": "/usr/local/var/tcs/sensors/ubuntu-18/C0-detector-cooler-power",
        "keyword": "",
        "prettyname": "C0 relative cooler power",
        "subsystem": "instrument",
        "component": "C0",
        "group": "detector-cooler-power",
        "type": "float",
        "unit": "",
        "model": "dummy",
        "identifier": "0",
        "firmware": ""
      },
      "C0-detector-cooler-state": {
        "file": "/usr/local/var/tcs/sensors/ubuntu-18/C0-detector-cooler-state",
        "keyword": "",
        "prettyname": "C0 cooler state",
        "subsystem": "instrument",
        "component": "C0",
        "group": "detector-cooler-state",
        "type": "string",
        "unit": "state",
        "model": "dummy",
        "identifier": "0",
        "firmware": ""
      },
      "C0-filter-wheel-position": {
        "file": "/usr/local/var/tcs/sensors/ubuntu-18/C0-filter-wheel-position",
        "keyword": "",
        "prettyname": "C0 filter wheel position",
        "subsystem": "instrument",
        "component": "C0",
        "group": "detector-filter-wheel-position",
        "type": "integer",
        "unit": "",
        "model": "FLI CFW-14-5",
        "identifier": "FW0021318",
        "firmware": ""
      }
    }
  }
}
